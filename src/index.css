@import url('https://fonts.googleapis.com/css2?family=Kantumruy+Pro:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;1,100;1,200;1,300;1,400;1,500;1,600;1,700&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Noto+Sans+Khmer:wght@100;200;300;400;500;600;700;800;900&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  /* Enhanced Color Design Tokens for Professional Finance App */
  /* Base Colors */
  --background: 210 15% 97%;
  --foreground: 210 15% 15%;
  --card: 210 15% 99%;
  --card-foreground: 210 15% 15%;
  --popover: 210 15% 99%;
  --popover-foreground: 210 15% 15%;

  /* Enhanced Border and Input Colors */
  --primary: 174 100% 29%;
  --primary-foreground: 210 20% 98%;
  --primary-glow: 174 80% 50%;

  --secondary: 210 15% 91%;
  --secondary-foreground: 210 15% 25%;

  --muted: 210 15% 94%;
  --muted-foreground: 210 15% 40%;

  --accent: 174 70% 40%;
  --accent-foreground: 210 20% 98%;

  /* Enhanced Border System */
  --border: 210 15% 89%;
  --input: 210 15% 89%;
  --ring: 174 100% 29%;

  /* Enhanced Finance-Specific Colors */
  --constructive: 174 100% 29%;
  --constructive-foreground: 174 100% 95%;

  --destructive: 0 72% 51%;
  --destructive-foreground: 0 85% 97%;

  /* Custom Finance Colors */
  --income: 174 100% 29%;
  --income-foreground: 174 100% 95%;
  --expense: 0 72% 51%;
  --expense-foreground: 0 85% 97%;
  --balance: 174 100% 29%;
  --balance-foreground: 210 20% 98%;

  /* Professional Gradients */
  --gradient-primary: linear-gradient(135deg, hsl(var(--primary)), hsl(var(--primary-glow)));
  --gradient-income: linear-gradient(135deg, hsl(var(--income)), hsl(174 60% 50%));
  --gradient-expense: linear-gradient(135deg, hsl(var(--expense)), hsl(0 60% 60%));
  --gradient-hero: linear-gradient(135deg, hsl(var(--primary)) 0%, hsl(var(--primary-glow)) 100%);
  --gradient-card: linear-gradient(135deg, 
    hsla(var(--card) / 0.95) 0%, 
    hsla(var(--background) / 0.9) 50%, 
    hsla(var(--card) / 0.95) 100%);

  /* Enhanced Shadow System */
  --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
  --shadow-card: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
  --shadow-glow: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 10px 10px -5px rgb(0 0 0 / 0.04);
  --shadow-elegant: 0 10px 30px -10px hsl(var(--primary) / 0.3);

  /* Enhanced Transitions */
  --transition-smooth: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  --transition-bounce: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);

  /* Border Radius System */
  --radius: 0.75rem;

  /* Chart Colors */
  --chart-1: 160 100% 75%; /* Aquamarine */
  --chart-2: 0 84% 60%;   /* Red */
  --chart-3: 202 100% 50%; /* Blue */
  --chart-4: 283 100% 60%; /* Purple */
  --chart-5: 45 100% 60%;  /* Orange */
  --chart-6: 120 100% 50%; /* Green */

  /* Sidebar specific colors */
  --sidebar-background: 210 15% 98%;
  --sidebar-foreground: 210 15% 15%;
  --sidebar-primary: 174 100% 29%;
  --sidebar-primary-foreground: 210 20% 98%;
  --sidebar-accent: 210 15% 91%;
  --sidebar-accent-foreground: 210 15% 25%;
  --sidebar-border: 210 15% 89%;
  --sidebar-ring: 174 100% 29%;
}

.dark {
  /* Dark Mode Enhanced Design Tokens */
  --background: 210 15% 7%;
  --foreground: 210 15% 85%;
  --card: 210 15% 9%;
  --card-foreground: 210 15% 85%;
  --popover: 210 15% 9%;
  --popover-foreground: 210 15% 85%;

  --primary: 174 100% 39%;
  --primary-foreground: 210 15% 7%;
  --primary-glow: 174 80% 60%;

  --secondary: 210 15% 15%;
  --secondary-foreground: 210 15% 75%;

  --muted: 210 15% 12%;
  --muted-foreground: 210 15% 55%;

  --accent: 174 70% 50%;
  --accent-foreground: 210 15% 7%;

  --border: 210 15% 18%;
  --input: 210 15% 18%;
  --ring: 174 100% 39%;

  /* Dark Mode Finance Colors */
  --constructive: 174 100% 39%;
  --constructive-foreground: 174 100% 5%;

  --destructive: 0 72% 61%;
  --destructive-foreground: 0 85% 5%;

  --income: 174 100% 39%;
  --income-foreground: 174 100% 5%;
  --expense: 0 72% 61%;
  --expense-foreground: 0 85% 5%;
  --balance: 174 100% 39%;
  --balance-foreground: 210 15% 7%;

  /* Dark Mode Gradients */
  --gradient-primary: linear-gradient(135deg, hsl(var(--primary)), hsl(var(--primary-glow)));
  --gradient-income: linear-gradient(135deg, hsl(var(--income)), hsl(174 60% 60%));
  --gradient-expense: linear-gradient(135deg, hsl(var(--expense)), hsl(0 60% 70%));
  --gradient-hero: linear-gradient(135deg, hsl(var(--primary)) 0%, hsl(var(--primary-glow)) 100%);
  --gradient-card: linear-gradient(135deg, 
    hsla(var(--card) / 0.95) 0%, 
    hsla(var(--background) / 0.9) 50%, 
    hsla(var(--card) / 0.95) 100%);

  /* Dark Mode Enhanced Shadows */
  --shadow-elegant: 0 10px 30px -10px hsl(var(--primary) / 0.4);
  --shadow-glow: 0 0 40px hsl(var(--primary-glow) / 0.4);

  /* Chart Colors - Dark Mode */
  --chart-1: 160 100% 75%; /* Aquamarine */
  --chart-2: 0 84% 60%;   /* Red */
  --chart-3: 202 100% 50%; /* Blue */
  --chart-4: 283 100% 60%; /* Purple */
  --chart-5: 45 100% 60%;  /* Orange */
  --chart-6: 120 100% 50%; /* Green */

  /* Dark Sidebar colors */
  --sidebar-background: 210 15% 8%;
  --sidebar-foreground: 210 15% 85%;
  --sidebar-primary: 174 100% 39%;
  --sidebar-primary-foreground: 210 15% 7%;
  --sidebar-accent: 210 15% 15%;
  --sidebar-accent-foreground: 210 15% 75%;
  --sidebar-border: 210 15% 18%;
  --sidebar-ring: 174 100% 39%;
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
    font-family: 'Kantumruy Pro', 'Noto Sans Khmer', sans-serif;
  }

  /* Ensure Kantumruy Pro is used for all text elements */
  * {
    font-family: 'Kantumruy Pro', 'Noto Sans Khmer', sans-serif;
  }

  /* Mobile-first responsive typography with fluid scaling */
  h1 { 
    font-size: clamp(1.75rem, 5vw, 3.5rem);
    @apply font-bold tracking-tight;
  }
  h2 { 
    font-size: clamp(1.5rem, 4vw, 2.75rem);
    @apply font-semibold tracking-tight;
  }
  h3 { 
    font-size: clamp(1.25rem, 3.5vw, 2.25rem);
    @apply font-semibold;
  }
  h4 { 
    font-size: clamp(1.125rem, 3vw, 1.875rem);
    @apply font-semibold;
  }
  h5 { 
    font-size: clamp(1rem, 2.5vw, 1.5rem);
    @apply font-medium;
  }
  h6 { 
    font-size: clamp(0.875rem, 2vw, 1.25rem);
    @apply font-medium;
  }

  /* Remove default app.css styles that conflict */
  #root {
    max-width: none;
    margin: 0;
    padding: 0;
    text-align: left;
  }
}

@layer components {
  /* Mobile-first Finance app components with touch optimization */
  .stat-card {
    @apply bg-gradient-to-br from-card to-card/90 backdrop-blur-sm border border-border/50 rounded-lg sm:rounded-xl p-4 sm:p-6 lg:p-8 shadow-[var(--shadow-card)] hover:shadow-[var(--shadow-glow)] transition-[var(--transition-smooth)];
    /* Mobile touch optimization */
    min-height: 80px;
    touch-action: manipulation;
  }

  .income-card {
    @apply bg-gradient-to-br from-cyan-50/80 to-cyan-100/60 dark:from-cyan-950/40 dark:to-cyan-900/30 backdrop-blur-md border border-cyan-200/40 dark:border-cyan-800/40 rounded-lg sm:rounded-xl shadow-lg hover:shadow-cyan-200/50 dark:hover:shadow-cyan-900/40 transition-all duration-300;
    /* Mobile touch optimization */
    padding: 1rem;
    min-height: 80px;
    touch-action: manipulation;
  }

  .expense-card {
    @apply bg-gradient-to-br from-red-50/80 to-red-100/60 dark:from-red-950/40 dark:to-red-900/30 backdrop-blur-md border border-red-200/40 dark:border-red-800/40 rounded-lg sm:rounded-xl shadow-lg hover:shadow-red-200/50 dark:hover:shadow-red-900/40 transition-all duration-300;
    /* Mobile touch optimization */
    padding: 1rem;
    min-height: 80px;
    touch-action: manipulation;
  }

  .balance-card {
    @apply bg-gradient-to-br from-cyan-50/80 to-cyan-100/60 dark:from-cyan-950/40 dark:to-cyan-900/30 backdrop-blur-md border border-cyan-200/40 dark:border-cyan-800/40 rounded-lg sm:rounded-xl shadow-lg hover:shadow-cyan-200/50 dark:hover:shadow-cyan-900/40 transition-all duration-300;
    /* Mobile touch optimization */
    padding: 1rem;
    min-height: 80px;
    touch-action: manipulation;
  }

  /* Mobile-first glassmorphism effects */
  .glass-effect {
    @apply backdrop-blur-md bg-background/80 border border-border/50 rounded-lg sm:rounded-xl shadow-lg;
    background: linear-gradient(135deg, 
      hsla(var(--background) / 0.9) 0%,
      hsla(var(--muted) / 0.8) 50%,
      hsla(var(--background) / 0.9) 100%);
    backdrop-filter: blur(20px) saturate(180%);
    -webkit-backdrop-filter: blur(20px) saturate(180%);
  }

  /* Enhanced glassmorphism sidebar with improved light mode visibility */
  .glass-sidebar {
    background: linear-gradient(135deg, 
      hsla(var(--background) / 0.95) 0%,
      hsla(var(--muted) / 0.85) 50%,
      hsla(var(--background) / 0.95) 100%);
    backdrop-filter: blur(20px) saturate(180%);
    -webkit-backdrop-filter: blur(20px) saturate(180%);
    border: 1px solid hsla(var(--border) / 0.4);
    box-shadow: 
      0 8px 32px hsla(var(--foreground) / 0.12),
      inset 0 1px 0 hsla(255, 255, 255, 0.15),
      inset 0 -1px 0 hsla(var(--border) / 0.2);
    position: relative;
  }

  /* Premium glassmorphism for special cards */
  .glass-premium {
    @apply backdrop-blur-lg border border-primary/20 rounded-xl shadow-glow;
    background: linear-gradient(135deg, 
      hsla(var(--primary) / 0.1) 0%,
      hsla(var(--background) / 0.9) 50%,
      hsla(var(--primary) / 0.05) 100%);
    backdrop-filter: blur(24px) saturate(200%);
    -webkit-backdrop-filter: blur(24px) saturate(200%);
  }

  /* Navigation component with enhanced mobile support */
  .nav-item {
    @apply transition-all duration-200 rounded-lg p-2 sm:p-3 hover:bg-accent/50;
    /* Mobile touch optimization */
    min-height: 44px;
    min-width: 44px;
    touch-action: manipulation;
  }

  /* Enhanced button styles with mobile optimization */
  .btn-mobile {
    @apply min-h-[44px] min-w-[44px] touch-manipulation rounded-lg transition-all duration-200;
  }

  /* Mobile-first card layouts */
  .mobile-card {
    @apply p-4 sm:p-6 rounded-lg sm:rounded-xl bg-card border border-border/50 shadow-sm hover:shadow-md transition-all duration-200;
    /* Mobile optimizations */
    min-height: 80px;
    touch-action: manipulation;
  }

  /* Enhanced input styles for mobile */
  .input-mobile {
    @apply min-h-[44px] text-base rounded-lg border border-border bg-background px-3 py-2;
    /* Prevent zoom on iOS */
    font-size: 16px;
  }

  /* Loading states optimized for mobile */
  .loading-mobile {
    @apply animate-pulse bg-muted rounded-lg;
    min-height: 44px;
  }
}

@layer utilities {
  /* Mobile-first spacing utilities */
  .spacing-section { @apply py-4 sm:py-6 md:py-8 lg:py-12 xl:py-16; }
  .spacing-grid { @apply gap-2 sm:gap-3 md:gap-4 lg:gap-6 xl:gap-8; }
  .spacing-container { @apply px-3 sm:px-4 md:px-6 lg:px-8 xl:px-12; }

  /* Mobile-specific touch targets */
  .touch-target { @apply min-h-[44px] min-w-[44px] flex items-center justify-center; }
  .touch-target-lg { @apply min-h-[48px] min-w-[48px] flex items-center justify-center; }

  /* Mobile-first typography utilities with fluid scaling */
  .text-h1 { font-size: clamp(1.75rem, 5vw, 3.5rem); @apply font-bold; }
  .text-h2 { font-size: clamp(1.5rem, 4vw, 2.75rem); @apply font-semibold; }
  .text-h3 { font-size: clamp(1.25rem, 3.5vw, 2.25rem); @apply font-semibold; }
  .text-h4 { font-size: clamp(1.125rem, 3vw, 1.875rem); @apply font-medium; }
  .text-h5 { font-size: clamp(1rem, 2.5vw, 1.5rem); @apply font-medium; }
  .text-h6 { font-size: clamp(0.875rem, 2vw, 1.25rem); @apply font-medium; }
  .text-body { font-size: clamp(0.875rem, 2vw, 1rem); @apply leading-relaxed; }
  .text-caption { font-size: clamp(0.75rem, 1.5vw, 0.875rem); @apply text-muted-foreground; }
  .text-card-title { font-size: clamp(0.875rem, 2vw, 1rem); @apply font-medium text-muted-foreground; }
  .text-card-value { font-size: clamp(1.5rem, 3.5vw, 2rem); @apply font-bold; }

  /* Enhanced gradient text */
  .text-gradient {
    @apply bg-gradient-to-r from-primary to-primary-glow bg-clip-text text-transparent;
  }

  /* Mobile-specific layout utilities */
  .mobile-stack { @apply flex flex-col space-y-4 sm:space-y-6; }
  .mobile-grid { @apply grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3 sm:gap-4 lg:gap-6; }
  .mobile-card { @apply p-4 sm:p-6 rounded-lg sm:rounded-xl; }

  /* Enhanced shadow utilities */
  .shadow-elegant {
    box-shadow: var(--shadow-elegant);
  }

  .shadow-glow {
    box-shadow: var(--shadow-glow);
  }

  /* Enhanced hover effects for mobile */
  .hover-lift {
    @apply transition-transform duration-200 hover:scale-105 hover:-translate-y-1;
  }

  .hover-glow {
    @apply transition-shadow duration-300 hover:shadow-glow;
  }

  /* Enhanced animations optimized for mobile performance */
  .animate-fade-in {
    animation: fadeIn 0.6s ease-out forwards;
  }

  .animate-slide-up {
    animation: slideUp 0.8s ease-out forwards;
  }

  .animate-bounce-in {
    animation: bounceIn 0.8s ease-out forwards;
  }

  .animate-slide-in-left {
    animation: slideInLeft 0.6s ease-out forwards;
  }

  .animate-slide-in-right {
    animation: slideInRight 0.6s ease-out forwards;
  }

  .animate-scale-in {
    animation: scaleIn 0.4s ease-out forwards;
  }

  .animate-glow {
    animation: glow 2s ease-in-out infinite;
  }

  .animate-float {
    animation: float 3s ease-in-out infinite;
  }

  .animate-breathe {
    animation: breathe 4s ease-in-out infinite;
  }

  .animate-ripple {
    animation: ripple 0.6s linear;
  }

  /* Scroll triggered animations */
  .scroll-fade-up {
    opacity: 0;
    transform: translateY(30px);
    transition: all 0.6s ease-out;
  }

  .scroll-fade-up.in-view {
    opacity: 1;
    transform: translateY(0);
  }

  .scroll-scale {
    opacity: 0;
    transform: scale(0.9);
    transition: all 0.5s ease-out;
  }

  .scroll-scale.in-view {
    opacity: 1;
    transform: scale(1);
  }

  /* Background gradients */
  .bg-gradient-primary {
    background: var(--gradient-primary);
  }

  .bg-gradient-income {
    background: var(--gradient-income);
  }

  .bg-gradient-expense {
    background: var(--gradient-expense);
  }

  .bg-gradient-hero {
    background: var(--gradient-hero);
  }

  .bg-gradient-card {
    background: var(--gradient-card);
  }
}

/* Enhanced Custom keyframes for animations */
@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes slideUp {
  from {
    opacity: 0;
    transform: translateY(30px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes bounceIn {
  0% {
    opacity: 0;
    transform: scale(0.8) translateY(20px);
  }
  50% {
    transform: scale(1.05) translateY(-5px);
  }
  100% {
    opacity: 1;
    transform: scale(1) translateY(0);
  }
}

@keyframes ripple {
  to {
    transform: scale(4);
    opacity: 0;
  }
}

@keyframes slideInLeft {
  from {
    opacity: 0;
    transform: translateX(-30px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

@keyframes slideInRight {
  from {
    opacity: 0;
    transform: translateX(30px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

@keyframes scaleIn {
  from {
    opacity: 0;
    transform: scale(0.9);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

@keyframes glow {
  0%, 100% {
    box-shadow: 0 0 20px hsl(var(--primary) / 0.3);
  }
  50% {
    box-shadow: 0 0 40px hsl(var(--primary) / 0.6);
  }
}

@keyframes float {
  0%, 100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-10px);
  }
}

@keyframes breathe {
  0%, 100% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.1);
  }
}

@keyframes bounce {
  0%, 20%, 53%, 80%, 100% {
    transform: translate3d(-50%, 0, 0);
  }
  40%, 43% {
    transform: translate3d(-50%, -15px, 0);
  }
  70% {
    transform: translate3d(-50%, -7px, 0);
  }
  90% {
    transform: translate3d(-50%, -2px, 0);
  }
}

/* Mobile-first responsive breakpoints for better layout control */
.container-content { @apply max-w-7xl mx-auto px-3 sm:px-4 md:px-6 lg:px-8 xl:px-12; }
.container-portfolio { @apply max-w-[1600px] mx-auto px-3 sm:px-4 md:px-6 lg:px-8 xl:px-12; }
.container-dashboard { @apply max-w-6xl mx-auto px-3 sm:px-4 md:px-6 lg:px-8 xl:px-12; }

/* Enhanced responsive breakpoints for large screens */
@media (min-width: 1920px) {
  .container-content { @apply max-w-[1536px]; }
  .container-portfolio { @apply max-w-[1800px]; }
  .container-dashboard { @apply max-w-[2000px]; }
}

@media (min-width: 2560px) {
  .container-content { @apply max-w-[1792px]; }
  .container-portfolio { @apply max-w-[2000px]; }
  .container-dashboard { @apply max-w-[2200px]; }
}

/* Scroll indicator button styles with mobile optimization */
.scroll-indicator {
  position: absolute;
  bottom: 2.5rem;
  left: 50%;
  transform: translateX(-50%);
  cursor: pointer;
  animation: bounce 2s infinite;
  opacity: 0.6;
  transition: opacity 0.3s;
  z-index: 10;
  /* Mobile touch optimization */
  min-height: 44px;
  min-width: 44px;
  touch-action: manipulation;
}

.scroll-indicator:hover {
  opacity: 1;
}

.arrow-icon {
  width: 32px;
  height: 32px;
  color: hsl(var(--muted-foreground));
}

/* Mobile-specific optimizations */
@media (max-width: 640px) {
  /* Reduce animations on small screens for better performance */
  .stat-card {
    transform: none !important;
  }
  
  /* Optimize touch targets */
  button, a, .nav-item {
    min-height: 44px;
    min-width: 44px;
  }
  
  /* Improve readability on small screens */
  .text-card-value {
    font-size: clamp(1.25rem, 4vw, 1.75rem) !important;
  }
}

/* Performance optimizations for mobile */
@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}